---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import PostList from '../../components/PostList.astro';
import Intro from '../../components/Intro.astro';

// Maybe there's a better way in Astro to sort the posts by date?
const issues = (await getCollection('newsletter')).sort(
  (issue1, issue2) =>
    Date.parse(issue2.data.date) - Date.parse(issue1.data.date)
);
const title = 'Newsletter';
---

<Layout title={title}>
  <Intro heading={title} />
  <PostList title="All issues" posts={issues} postType="newsletter" />
</Layout>
